# 예외 처리2 - Best Practices

## 예외 정의

### 1. 예외를 계층 구조로 설계하라
- 예외를 계층 구조로 설계하여 그룹화하면 예외의 분류가 쉬워지고 다형성을 활용할 수 있음 

### 2. 명확하고 구체적인 이름을 사용하라
- 예외 클래스의 이름만 봐도 어떤 예외인지 파악할 수 있어야 함 

### 3. 예외의 자세한 정보를 저장하라
- `Throwable`의 `detailMessage`에 구체적인 에러 메시지를 저장할 수 있음
- `Throwable`의 `cause`나 필요한 다른 필드를 정의하여 사용하는 것도 좋음

```java
class MyException extends RuntimeException {
    public MyException(String message) {
        super(message);
    }
}
```

<br>

## 예외 처리

### 1. 가장 가까운 곳에서, 가장 구체적으로 예외를 처리하라
- 발생한 지점으로부터 처리할 수 있는 가장 가까운 곳에서 처리하는 것이 코드의 흐름을 파악하기에 좋음
- 잡을 수 있는 가장 구체적인 예외를 처리하는 것이 예외 처리의 명확성을 향상시키고, 실수로 다른 예외까지 잡히는 것을 방지할 수 있음

### 2. 로그를 남겨라
- 로그에 예외의 상세 정보를 남기면 문제의 원인을 추적하고 디버깅을 하는 데 큰 도움을 줌
- 로그에는 예외 메시지, 스택 트레이스, 예외와 관련된 컨텍스트 정보 등이 포함되면 좋음

### 3. 처리할 수 없는 예외는 런타임 예외로 선언하고, 공통으로 처리하라
- 복구 불가능한 예외는 `RuntimeException`으로 선언하여 처리를 강제하지 않는 것이 좋음
- 이러한 예외들은 중앙에서 공통적으로 처리하여 사용자에게 적절한 에러 메시지를 전달해야함

### 4. `try-with-resources`를 사용하라
- 자원을 사용하는 경우, `try-with-resources` 문법을 사용해 자원 누수를 방지함과 동시에 코드의 가독성을 향상시킬 수 있음