# 동기화 - `synchronized`
## 동시성 문제
- 여러 스레드가 동시에 공유 자원에 접근하여 상태 변경을 시도할 때, 예측할 수 없는 결과를 초래하는 문제
- 공유 자원: 스레드가 동시에 접근하고 사용할 수 있는 데이터
- 임계 영역: 공유 자원에 대한 접근을 제어하는 코드 영역
  - 하나의 스레드만 공유 자원에 접근할 수 있도록 보장하여 데이터 손실 방지
  - 임계 영역을 너무 크게 설정할 시 성능 저하를 초래하므로 최대한 작게 유지
  - `synchronized` 키워드로 한 번에 하나의 스레드만 실행할 수 있는 코드 구간 생성
## `synchronized`
- 여러 스레드가 동시에 접근할 수 있는 공유 자원에 대한 안전한 접근을 보장하는 키워드
- 임계 영역 설정 및 하나의 스레드만 해당 코드 블록에 접근 가능
- 모든 객체(인스턴스)는 내부에 자신만의 락(lock) 보유
- 스레드가 `synchronized` 키워드가 있는 메서드에 진입하려면 해당 인스턴스의 락 필요
- 한 스레드가 락을 획득하면 다른 스레드는 락을 획득할 때 까지 `BLOCKED` 상태로 대기
- 여러 스레드가 동시에 접근하지 못하기 때문에 성능이 하락할 수 있음
- 따라서 동시에 실행되면 안되는 코드 구간을 잘 설정하여 최소화하여야 함
```java
public synchronized void increment() {
    count++;
}
```
```java
public void increment() {
    synchronized (this) {   // synchronized 가 필요한 부분만 설정 가능
        count++;
    }
}
```