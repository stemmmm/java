# 다형성 2

## 추상 클래스와 인터페이스

- 추상 클래스는 인스턴스를 직접 생성하지 못하는 제약이 추가된 클래스일뿐 메모리적으로는 클래스와 동일함
- 자바는 순수 추상 클래스(모든 메서드가 추상 메서드인 추상 클래스)를 편리하게 사용할 수 있도록 인터페이스라는 개념 제공
- 클래스, 추상 클래스, 인터페이스 모두 메모리적으로 거의 동일하게 동작함

<br>

### 인터페이스의 멤버

- 인터페이스의 멤버는 모두 `public static final`이며 생략이 권장됨
- 인터페이스의 메서드는 모두 `public abstract` 이며 생략이 권장됨

```java
public interface Math {
    double PI = 3.14;  // public static final 생략
    void calculate();  // public abstract 생략
}
```

<br>

### 인터페이스가 다중 상속을 지원하는 이유

- 다이아몬드 문제: 여러 부모 클래스에서 동일한 이름의 메서드가 존재하는 경우, 자식 클래스에서 어떤 메서드를 사용해야할지 결정하지 못하는 문제
- 클래스는 다중 상속을 지원하지 않는데, 이는 다이아몬드 문제 때문임
- 반면 인터페이스는 모두 추상 메서드로 이루어져있으므로 다중 상속이 가능함
  - 즉, 어차피 자식 클래스에서 메서드 바디를 구현할 것이므로 그냥 자식 클래스의 메서드를 실행하면 됨


<br>

### 추상 클래스 vs 인터페이스

- 행동을 추상화 하고 싶으면 인터페이스 사용(e.g. `Runnable`, `Hashable` ...)
- 다중 상속이 필요하면 인터페이스 사용
- `is-a` 관계인 경우 추상 클래스 사용
- 잘 모르겠으면 일단 인터페이스 사용